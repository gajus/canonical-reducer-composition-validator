{"version":3,"sources":["validateReducer.js"],"names":[],"mappings":";;;;;;;;qBAAc,SAAS;;;;kCAEQ,sBAAsB;;;;2BAC7B,eAAe;;;;2BACf,eAAe;;;;qBAExB,UAAC,OAAO,EAAK;AACxB,QAAI,QAAQ,YAAA;QACR,WAAW,GAAG,EAAE,CAAC;;AAErB,QAAI,CAAC,8BAAY,OAAO,CAAC,IAAI,mBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE;AACnD,cAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;KACrF;;;;;AAKD,YAAQ,GAAG,UAAC,MAAM,EAAK;AACnB,2BAAE,OAAO,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,UAAU,EAAK;AACrC,gBAAI,8BAAY,KAAK,CAAC,EAAE;AACpB,mCAAE,OAAO,CAAC,KAAK,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;AAC/B,wBAAI;AACA,6DAAmB,IAAI,CAAC,CAAC;qBAC5B,CAAC,OAAO,CAAC,EAAE;AACR,8BAAM,IAAI,KAAK,CAAC,4EAA4E,CAAC,CAAC;qBACjG;;AAED,wBAAI,mBAAE,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;AACrC,8BAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;qBACrF;;AAED,wBAAI,IAAI,KAAK,WAAW,EAAE;AACtB,mCAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC1B;iBACJ,CAAC,CAAC;aACN,MAAM,IAAI,8BAAY,KAAK,CAAC,EAAE;AAC3B,wBAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;aAChC,MAAM;AACH,sBAAM,IAAI,KAAK,CAAC,qHAAqH,CAAC,CAAC;aAC1I;SACJ,CAAC,CAAC;KACN,CAAC;;AAEF,YAAQ,CAAC,OAAO,CAAC,CAAC;CACrB","file":"validateReducer.js","sourcesContent":["import _ from './utils';\n\nimport validateActionName from './validateActionName';\nimport isDomainMap from './isDomainMap';\nimport isActionMap from './isActionMap';\n\nexport default (reducer) => {\n    let iterator,\n        actionIndex = [];\n\n    if (!isDomainMap(reducer) && _.values(reducer).length) {\n        throw new Error('Reducer definition object must begin with a domain definition.');\n    }\n\n    /**\n     * @param {Object} branch\n     */\n    iterator = (branch) => {\n        _.forEach(branch, (value, domainName) => {\n            if (isActionMap(value)) {\n                _.forEach(value, (action, name) => {\n                    try {\n                        validateActionName(name);\n                    } catch (e) {\n                        throw new Error('Reducer definition object action handler names must be valid action names.');\n                    }\n\n                    if (_.indexOf(actionIndex, name) !== -1) {\n                        throw new Error('Reducer definition object action handler names must be unique.');\n                    }\n\n                    if (name !== 'CONSTRUCT') {\n                        actionIndex.push(name);\n                    }\n                });\n            } else if (isDomainMap(value)) {\n                iterator(branch[domainName]);\n            } else {\n                throw new Error('Reducer definition object value object all values must correspond to a function (action map) or an object (domain).');\n            }\n        });\n    };\n\n    iterator(reducer);\n};\n"],"sourceRoot":"/source/"}