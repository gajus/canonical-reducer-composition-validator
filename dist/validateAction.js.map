{"version":3,"sources":["validateAction.js"],"names":[],"mappings":";;;;;;;;qBAAc,SAAS;;;;kCAEQ,sBAAsB;;;;qBAEtC,UAAC,MAAM,EAAK;AACvB,QAAI,eAAe,YAAA,CAAC;;AAEpB,QAAI,CAAC,mBAAE,aAAa,CAAC,MAAM,CAAC,EAAE;AAC1B,cAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;KAChE;;AAED,QAAI,mBAAE,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;AAC5B,cAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC;KAC5E;;AAED,QAAI;AACA,6CAAmB,MAAM,CAAC,IAAI,CAAC,CAAC;KACnC,CAAC,OAAO,CAAC,EAAE;AACR,cAAM,IAAI,KAAK,CAAC,6EAA6E,CAAC,CAAC;KAClG;;AAED,QAAI,CAAC,mBAAE,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAE,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;AAC9D,cAAM,IAAI,KAAK,CAAC,wEAAwE,CAAC,CAAC;KAC7F;;AAED,QAAI,CAAC,mBAAE,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAE,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;AACtE,cAAM,IAAI,KAAK,CAAC,4EAA4E,CAAC,CAAC;KACjG;;AAED,QAAI,CAAC,mBAAE,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;AAC9B,YAAI,CAAC,mBAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;AAC3B,kBAAM,IAAI,KAAK,CAAC,oEAAoE,CAAC,CAAC;SACzF;;AAED,YAAI,CAAC,mBAAE,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;AACjC,kBAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;SACnE;;AAED,YAAI,CAAC,mBAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;AACtC,kBAAM,IAAI,KAAK,CAAC,2DAA2D,CAAC,CAAC;SAChF;KACJ;;AAED,mBAAe,GAAG,mBAAE,KAAK,CAAC,mBAAE,UAAU,CAAC,mBAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;;AAE/F,QAAI,eAAe,EAAE;AACjB,cAAM,IAAI,KAAK,CAAC,gEAAgE,GAAG,eAAe,GAAG,2BAA2B,CAAC,CAAC;KACrI;CACJ","file":"validateAction.js","sourcesContent":["import _ from './utils';\n\nimport validateActionName from './validateActionName';\n\nexport default (action) => {\n    let unknownProperty;\n\n    if (!_.isPlainObject(action)) {\n        throw new Error('Action definition must be a plain object.');\n    }\n\n    if (_.isUndefined(action.name)) {\n        throw new Error('Action definition object must define \"name\" property.');\n    }\n\n    try {\n        validateActionName(action.name);\n    } catch (e) {\n        throw new Error('Action definition object \"name\" property value must be a valid action name.');\n    }\n\n    if (!_.isUndefined(action.data) && !_.isPlainObject(action.data)) {\n        throw new Error('Action definition object \"data\" property value must be a plain object.');\n    }\n\n    if (!_.isUndefined(action.metadata) && !_.isPlainObject(action.metadata)) {\n        throw new Error('Action definition object \"metadata\" property value must be a plain object.');\n    }\n\n    if (!_.isUndefined(action.error)) {\n        if (!_.isObject(action.error)) {\n            throw new Error('Action definition object \"error\" property value must be an object.');\n        }\n\n        if (!_.has(action.error, 'message')) {\n            throw new Error('\"error\" object must have \"message\" property.');\n        }\n\n        if (!_.isString(action.error, 'message')) {\n            throw new Error('\"error\" object \"message\" property value must be a string.');\n        }\n    }\n\n    unknownProperty = _.first(_.difference(_.keys(action), ['name', 'data', 'metadata', 'error']));\n\n    if (unknownProperty) {\n        throw new Error('Action definition object must not define unknown properties. \"' + unknownProperty + '\" is an unknown property.');\n    }\n};\n"],"sourceRoot":"/source/"}